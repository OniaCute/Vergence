package cc.vergence.modules.exploit;

import cc.vergence.Vergence;
import cc.vergence.features.event.events.DisconnectEvent;
import cc.vergence.features.managers.ui.NotifyManager;
import cc.vergence.modules.Module;

public class SilentDisconnect extends Module {
    public static SilentDisconnect INSTANCE;
    public boolean isDisconnected = false;

    public SilentDisconnect() {
        super("SilentDisconnect", Category.EXPLOIT);
        INSTANCE = this;
    }

    @Override
    public String getDetails() {
        return isDisconnected ? "Disconnected" : "";
    }

    @Override
    public void onDisconnect(DisconnectEvent event, String reason) {
        isDisconnected = true;
        NotifyManager.newNotification(this, Vergence.TEXT.get("Module.Modules.SilentDisconnect.Messages.Disconnect").replace("{reason}", reason));
        event.cancel();
    }
}
